<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Генератор пословиц 2.0</title>
</head>
<body>
  
  <form id="formCount">
    <div class="mb-3">
      <label for="formCount" class="form-label">Введите количество пословиц</label>
      <input class="form-control" id="count">
    <button type="submit" class="btn btn-primary">Отправить</button>
  </form>
  
  <ul id="proverbsList">

  </ul>

   <script>

    let proverbs = [
    "Ум хорошо, а два лучше.",
    "Ум — горячая штука.",
    "Ум всё голова.",
    "Умом Россию не понять.",
    "Ум бережет, а глупость губит.",
    "Ум в голову приходит.",
    "Ум от ума не горит.",
    "Умом нагружен, а волосы развеваются.",
    "Умом обдумал, а ногами пошел.",
    "Ум — сокровище, не пропадет без него и копье на ветру.",
    "Ум — грех, а бес — мера.",
    "Ум есть богатство.",
    "Ум роднит народы.",
    "Ум краток, да забот — бездна.",
    "Ум не камень, взял и положил.",
    "Ум не велит, а наставляет.",
    "Ум с мерой, а глупость без меры.",
    "Ум — сокол, глаз его — телескоп.",
    "Ум — не конская морда, не разобьешь.",
    "Ум — семь пядей во лбу.",
    "Ум — не барсук, в нору не залезет.",
    "Ум в голове, а не на ветру.",
    "Ум греет душу, а глупость терпение.",
    "Ум служит человеку, а глупость — хозяином.",
    "Ум мил, да безумству хозяин.",
    "Ум в труде, да наслаждение в праздности.",
    "Ум глаза исправляет.",
    "Ум человека не обманешь.",
    "Ум на подобии огня — без сна не останешься.",
    "Ум к уму приходит.",
    "Ум с пользой тратит время.",
    "Ум желание творит.",
    "Ум общего дела дело.",
    "Ум — друг, а воля — враг.",
    "Ум — бесценное сокровище.",
    "Ум тонок, да разум невелик.",
    "Ум — враг бедности.",
    "Ум — теремок, да не на прокол.",
    "Ум силен, да не камень.",
    "Ум рассудит, что сердце не посоветует.",
    "Ум — подкова, а топор — ось.",
    "Ум легче камня, да весомей золота.",
    "Ум не вешать на гроздья.",
    "Ум — не мешок, на плечи не вешай.",
    "Ум — лучшая победа.",
    "Ум — в суде велик, а в деле своем мал.",
    "Ум голове краса.",
    "Ум — сокровище, а глупость — нищета.",
    "Ум человека — огонь, а глаза — масло.",
    "Ум — путь, а дорога — конец.",
    "Ум стоит денег.",
    "Ум от смеха бьет в ладоши.",
    "Ум — коза, к барскому плечу привыкает.",
    "Ум — лезвие, а лень — ржавчина.",
    "Ум на вершине — мир в руках.",
    ];

    let variants = [
			'кот',
			'шеф',
			'мозг',
			'лес',
			'фолк',
			'код',
			'рот',
			'мёд',
			'лук',
			'лес',
			'год',
			'час',
			'друг',
			'жена',
			'муж',
			'айфон',
			'работа',
    ];

    // создание пустых массивов для дальнейшей работы
    let poslovica = [];
    let proverbsList = [];

    // назначаем обработчик на кнопки отправки формы
    document.getElementById("formCount").addEventListener("submit", function(event) {
      // убираем перезагрузку послед нажатия кнопки
      event.preventDefault();
      // получаем count - введенное значение формы
      let count = document.getElementById("count").value;
      // перевод count в числовой тип данных
      count = Number(count)
      // условия для защиты от ошибок при некорректном вводе данных
      if (isNaN(count) || (count > 55) || (count < 1)) {
        alert('Введено некорректное значение, перезагрузите страницу');
      };
      // вызов функций
      generateMultipleProverbs(count, variants, proverbs);
      displayProverbs(proverbsList);
    });
    
    // создание функции. Эта функция выбирает случайную пословицу из массива `proverbs` и заменяет слово "Ум" на случайное слово из массива `variants`. После этого она удаляет использованную пословицу из списка, чтобы избежать повторения.
    function generateProverb(variants, proverbs) {
      // переменная numPosl поможет удалить нужную пословицу после проведенной замены
      let numPosl = Math.floor(Math.random() * proverbs.length);
      // в переменную poslovica вносим разбитую на массив слов рандомную пословицу
      poslovica = proverbs[numPosl].split(" ");
      // методом splice заменяем первый элемент - 'ум' на случайное слово из variants
      poslovica.splice(0, 1, variants[Math.floor(Math.random() * variants.length)]);
      // удаляем использованную пословицу
      proverbs.splice(numPosl, 1);
      // объединяем массив слов в строку, слова разделяются пробелами
      poslovica = poslovica.join(" ");
      // вывод в консоль
      console.log(poslovica);
    }

    // Эта функция генерирует указанное количество уникальных модифицированных пословиц, используя функцию `generateProverb()`
    function generateMultipleProverbs(count, variants, proverbs) {
      for (let i = 0; i < count; i++) {
      // вызываем функцию
      generateProverb(variants, proverbs);

      
      // добавляем строку-пословицу к массиву
      proverbsList.push(poslovica);
      }
      // вывод массив строк в консоль
      console.log(proverbsList);
    }

    // Эта функция отображает переданный список пословиц в виде HTML-списка (`<ul><li>...</li></ul>`).
    function displayProverbs(proverbsList) {
      // получаем неупорядочный список HTML в переменную
      let spisok = document.getElementById("proverbsList");
      // выполняем цикл по добавлению элементов списка исходя из массива пословиц
      for (poslElement of proverbsList) {
        // создание списка в переменную newLi
        let newLi = document.createElement('li');
        // наполняем элемент списка контентом
        newLi.textContent = poslElement;
        // добавляем новый элемент в конец списка ul
        spisok.appendChild(newLi);
      }
    }
  </script>
</body>
</html>
